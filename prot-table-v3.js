(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
const header={"Content-Type":"application/json"},createFetchBody=e=>JSON.stringify({query:e()}),databaseUrl=(e,t)=>`https://database.protronic-gmbh.de/query?database=${e}&username=${t}`,createTableQuery=e=>`IF NOT EXISTS (SELECT * FROM sys.tables WHERE sys.tables.name = '${e}') CREATE TABLE ${e}(identifierField NVARCHAR(MAX), identifierValue NVARCHAR(MAX));`,selectCheckedForAll=(e,t)=>`SELECT [identifierValue] FROM ${e} WHERE [identifierField] = '${t}' GROUP BY [identifierValue];`,insertQuery=(e,t,a)=>`INSERT INTO ${e} (identifierField, identifierValue) VALUES ('${t}', '${a}');`,deleteQuery=(e,t,a)=>`DELETE FROM ${e} WHERE identifierField = '${t}' AND identifierValue = '${a}';`;function sanitizeSql(e){throw new Error("unimplemented function")}function searchParentTable(e){let t=e;for(;;){if("body"==(t=t.parentElement).nodeName.toLowerCase())return;if("prot-table-v3"==t.nodeName.toLowerCase()||"wc-grid-table"==t.nodeName.toLowerCase())return t}}class MarkInput extends HTMLElement{connectedCallback(){this.dataAttributes={IdentifierField:this.getAttribute("identifierfield"),IdentifierValue:this.getAttribute("identifiervalue"),Database:this.getAttribute("database")?this.getAttribute("database"):"MarkerDB",DatabaseUser:this.getAttribute("databaseuser")?this.getAttribute("databaseuser"):"wiki",DatabaseTable:this.getAttribute("databasetable")?this.getAttribute("databasetable"):"DefaultTable",IsChecked:this.hasAttribute("checked"),MarkerText:"true|false"},this.dataProperties={ParentTable:searchParentTable(this),DatabaseUrl:databaseUrl(this.dataAttributes.Database,this.dataAttributes.DatabaseUser),CreateTableQuery:createTableQuery.bind(this,this.dataAttributes.DatabaseTable),InsertValuesQuery:insertQuery.bind(this,this.dataAttributes.DatabaseTable,this.dataAttributes.IdentifierField,this.dataAttributes.IdentifierValue),DeleteFromQuery:deleteQuery.bind(this,this.dataAttributes.DatabaseTable,this.dataAttributes.IdentifierField,this.dataAttributes.IdentifierValue)},this.dataElements={CheckboxInput:document.createElement("input"),FilterTextSpan:document.createElement("span")},this.dataAttributes.IsChecked?this.setChecked(!1):this.unsetChecked(),this.setupMarkInputElement(),this.createCheckboxInput(),this.createFilterElement()}setupMarkInputElement(){this.classList.add(`marker_${this.dataAttributes.IdentifierValue}`)}createCheckboxInput(){this.dataElements.CheckboxInput.type="checkbox",this.dataElements.CheckboxInput.onclick=this.clickEventHandler.bind(this),this.dataAttributes.IsChecked&&this.dataElements.CheckboxInput.toggleAttribute("checked",!0),this.append(this.dataElements.CheckboxInput)}createFilterElement(){let[e,t]=this.dataAttributes.MarkerText.split("|");this.dataElements.FilterTextSpan.style.display="none",this.dataElements.FilterTextSpan.textContent=this.dataAttributes.IsChecked?e:t,this.append(this.dataElements.FilterTextSpan)}setChecked(e){let[t,a]=this.dataAttributes.MarkerText.split("|");this.dataAttributes.IsChecked=!0,this.toggleAttribute("checked",!0),this.dataElements.CheckboxInput.toggleAttribute("checked",!0),this.dataElements.CheckboxInput.checked=!0,this.dataElements.FilterTextSpan.textContent=t,e&&(document.querySelectorAll(`.table-id-${this.dataProperties.ParentTable.tableId} mark-input.marker_${this.dataAttributes.IdentifierValue}`).forEach(e=>e.setChecked(!1)),this.setMarkierenData(!0)),this.setMarkiertField(!0)}unsetChecked(e){let[t,a]=this.dataAttributes.MarkerText.split("|");this.dataAttributes.IsChecked=!1,this.removeAttribute("checked"),this.dataElements.CheckboxInput.removeAttribute("checked"),this.dataElements.CheckboxInput.checked=!1,this.dataElements.FilterTextSpan.textContent=a,e&&(document.querySelectorAll(`.table-id-${this.dataProperties.ParentTable.tableId} mark-input.marker_${this.dataAttributes.IdentifierValue}`).forEach(e=>e.unsetChecked(!1)),this.setMarkierenData(!1)),this.setMarkiertField(!1)}setMarkierenData(e){this.dataProperties.ParentTable.data=this.dataProperties.ParentTable.data.map(t=>(t[this.dataAttributes.IdentifierField]==this.dataAttributes.IdentifierValue&&(t["#markiert"]=e?"ja":"nein",t.marker=this.dataProperties.ParentTable.createMarkInput(this.dataAttributes.IdentifierField,this.dataAttributes.IdentifierValue,this.dataAttributes.DatabaseTable,this.dataAttributes.Database,this.dataAttributes.DatabaseUser,this.dataAttributes.MarkerText,e)),t))}setMarkiertField(e){let t=this.parentElement.nextElementSibling;t&&t.classList.contains("wgt-column_#markiert")&&(t.textContent=e?"ja":"nein")}createTable(){console.log(this.dataProperties.CreateTableQuery()),fetch(this.dataProperties.DatabaseUrl,{method:"POST",headers:header,body:createFetchBody(this.dataProperties.CreateTableQuery)}).then(e=>e.json()).then(e=>{console.log("finished table create query.")})}clickEventHandler(e){e.preventDefault(),e.stopPropagation(),this.dataAttributes.IsChecked?(console.log(this.dataProperties.DeleteFromQuery()),fetch(this.dataProperties.DatabaseUrl,{method:"POST",headers:header,body:createFetchBody(this.dataProperties.DeleteFromQuery)}).then(e=>e.json()).then(e=>{this.unsetChecked(!0)})):(console.log(this.dataProperties.InsertValuesQuery()),fetch(this.dataProperties.DatabaseUrl,{method:"POST",headers:header,body:createFetchBody(this.dataProperties.InsertValuesQuery)}).then(e=>e.json()).then(e=>{this.setChecked(!0)}))}}async function fetchSelectCheckedValues(e,t,a,i){return fetch(databaseUrl(e,t),{method:"POST",headers:header,body:createFetchBody(selectCheckedForAll.bind(this,a,i))}).then(e=>e.json()).then(e=>e)}async function fetchCreateTableIfNotExists(e,t,a){return fetch(databaseUrl(e,t),{method:"POST",headers:header,body:createFetchBody(createTableQuery.bind(this,a))}).then(e=>e.json()).then(e=>e)}module.exports={MarkInput:MarkInput,fetchSelectCheckedValues:fetchSelectCheckedValues,fetchCreateTableIfNotExists:fetchCreateTableIfNotExists};

},{}],2:[function(require,module,exports){
let wcGridTable=require("wc-grid-table/src/wc-grid-table.js"),debounce=require("lodash.debounce"),{MarkInput:MarkInput,fetchSelectCheckedValues:fetchSelectCheckedValues,fetchCreateTableIfNotExists:fetchCreateTableIfNotExists}=require("./MarkInput");require("./style.css");class ProtTable extends wcGridTable.TableComponent{useDefaultOptions(){super.useDefaultOptions()}connectedCallback(){super.connectedCallback();let e=this.getAttribute("height"),t=this.getAttribute("page-size");e&&(this.style.maxHeight=e),t||(this.pagination.pageSize=500),[...document.querySelectorAll("div.tabs div.tab-pane")].forEach(e=>{e.addClass=new Proxy(e.addClass,{apply:function(e,t,a){return console.log("addClass fix-columns"),window.postMessage(JSON.stringify({type:"fix-columns"}),"*"),e.apply(t,a)}})}),fetch("https://database.protronic-gmbh.de/query?database=formly",{method:"POST",headers:{"Content-Type":"application/json"},body:'{"query": "SELECT [synonym], [link], [tooltip] FROM schemaAuskunftLinks;"}'}).then(e=>e.json()).then(e=>{let t={};e.map(e=>{let t={};return t[e.synonym]=e.link,t}).forEach(e=>{Object.keys(e).forEach(a=>{t[a]||(t[a]=[]),t[a].push(t=>t.startsWith("<")?t:`<a href="${e[a]}${t}">${t}</a>`)})}),console.log(t),this.formatter=t,this.setupProtTableData()}).catch(e=>{console.error(e),console.log("caught."),this.setupProtTableData()})}loadDataFromQuery(e){e=decodeURIComponent(e.replace(/\\n/g,"\n"));let t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e})};fetch("https://database.protronic-gmbh.de/query?database=OLReweAbf",t).then(e=>e.json()).then(e=>{console.log(e),this.setupMarkInputs(e).then(e=>{e.forEach(e=>delete e.ROWSTAT),this.setData(e)})})}setupProtTableData(){let e=this.getAttribute("data_url");e=e.replace(/^[a-zA-Z]*:\/\/[a-zA-Z0-9.-]*/,"");let t=this.getAttribute("query");e?fetch(e).then(e=>e.json()).then(e=>{this.setupMarkInputs(e).then(e=>this.setData(e))}):t&&loadDataFromQuery(t),this.setDebounceFn(debounce,[200,{leading:!0,trailing:!1}],[500,{trailing:!0,leading:!1}])}async setupMarkInputs(e){const t={identifierField:this.getAttribute("marker-identifierfield"),databaseTable:this.getAttribute("marker-databasetable")},a={database:this.getAttribute("marker-database")?this.getAttribute("marker-database"):"MarkerDB",databaseuser:this.getAttribute("marker-databaseuser")?this.getAttribute("marker-databaseuser"):"wiki",markerText:this.getAttribute("marker-markertext")};return Reflect.ownKeys(t).map(e=>t[e]).every(e=>null!=e)?(await fetchCreateTableIfNotExists(a.database,a.databaseuser,t.databaseTable),this.generateMarkInputData(e,t,a)):e}createMarkInput(e,t,a,r,s,i,n){let l=document.createElement("mark-input");return l.setAttribute("identifierfield",e),l.setAttribute("identifiervalue",t),a&&l.setAttribute("databasetable",a),r&&l.setAttribute("database",r),s&&l.setAttribute("databaseuser",s),i&&l.setAttribute("markertext",i),n&&l.toggleAttribute("checked",n),l.outerHTML}async generateMarkInputData(e,t,a){let{identifierField:r,databaseTable:s}=t,{database:i,databaseuser:n,markerText:l}=a;return fetchSelectCheckedValues(i,n,s,r).then(t=>e.map(e=>{let a=t.map(e=>e.identifierValue).includes(e[r].toString());return{marker:this.createMarkInput(r,e[r].toString(),s,i,n,l,a),"#markiert":a?"ja":"nein",...e}}))}}customElements.define("mark-input",MarkInput),customElements.define("prot-table-v3",ProtTable),module.exports={ProtTable:ProtTable,TableComponent:wcGridTable.TableComponent};

},{"./MarkInput":1,"./style.css":9,"lodash.debounce":4,"wc-grid-table/src/wc-grid-table.js":8}],3:[function(require,module,exports){
"use strict";var styleElementsInsertedAtTop=[],insertStyleElement=function(e,t){var n=document.head||document.getElementsByTagName("head")[0],r=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];if((t=t||{}).insertAt=t.insertAt||"bottom","top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),styleElementsInsertedAtTop.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}};module.exports={createLink:function(e,t){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("link");for(var s in r.href=e,r.rel="stylesheet",t)if(t.hasOwnProperty(s)){var i=t[s];r.setAttribute("data-"+s,i)}n.appendChild(r)},createStyle:function(e,t,n){n=n||{};var r=document.createElement("style");for(var s in r.type="text/css",t)if(t.hasOwnProperty(s)){var i=t[s];r.setAttribute("data-"+s,i)}r.sheet?(r.innerHTML=e,r.sheet.cssText=e,insertStyleElement(r,{insertAt:n.insertAt})):r.styleSheet?(insertStyleElement(r,{insertAt:n.insertAt}),r.styleSheet.cssText=e):(r.appendChild(document.createTextNode(e)),insertStyleElement(r,{insertAt:n.insertAt}))}};

},{}],4:[function(require,module,exports){
(function (global){(function (){
var FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function debounce(e,t,r){var o,n,i,u,a,f,c=0,l=!1,b=!1,s=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT);function v(t){var r=o,i=n;return o=n=void 0,c=t,u=e.apply(i,r)}function m(e){var r=e-f;return void 0===f||r>=t||r<0||b&&e-c>=i}function j(){var e=now();if(m(e))return y(e);a=setTimeout(j,function(e){var r=t-(e-f);return b?nativeMin(r,i-(e-c)):r}(e))}function y(e){return a=void 0,s&&o?v(e):(o=n=void 0,u)}function p(){var e=now(),r=m(e);if(o=arguments,n=this,f=e,r){if(void 0===a)return function(e){return c=e,a=setTimeout(j,t),l?v(e):u}(f);if(b)return a=setTimeout(j,t),v(f)}return void 0===a&&(a=setTimeout(j,t)),u}return t=toNumber(t)||0,isObject(r)&&(l=!!r.leading,i=(b="maxWait"in r)?nativeMax(toNumber(r.maxWait)||0,t):i,s="trailing"in r?!!r.trailing:s),p.cancel=function(){void 0!==a&&clearTimeout(a),c=0,o=f=n=a=void 0},p.flush=function(){return void 0===a?u:y(now())},p}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function isObjectLike(e){return!!e&&"object"==typeof e}function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&objectToString.call(e)==symbolTag}function toNumber(e){if("number"==typeof e)return e;if(isSymbol(e))return NAN;if(isObject(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(reTrim,"");var r=reIsBinary.test(e);return r||reIsOctal.test(e)?freeParseInt(e.slice(2),r?2:8):reIsBadHex.test(e)?NAN:+e}module.exports=debounce;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],5:[function(require,module,exports){
function regexFilter(t,e,r){let l=!1;if(null!=r){let t=r.toString().match(new RegExp(e,"i"));l=Boolean(t)&&t.length>0}return t?!l:l}function stripHtml(t){return(new DOMParser).parseFromString(t,"text/html").body.textContent||""}function textFilter(t,e,r){let l=!1;return null!=r&&(l=stripHtml(r.toString()).toUpperCase().includes(stripHtml(e).toUpperCase())),t?!l:l}function compareFilter(t,e,r){let l=!1;if(null!=r)try{l=t(Number.parseFloat(e),Number.parseFloat(r))}catch(n){l=t(e.toString(),r.toString())}return l}module.exports={regexFilter:regexFilter,textFilter:textFilter,compareFilter:compareFilter};

},{}],6:[function(require,module,exports){
function getFrameStartEnd(e,a){let n=e-2,t=e+2;return e>=a-1?(t=a,n=a<5?1:a-4):e<=2&&(t=a<5?a:5,n=1),{start:n,end:t}}function changePageTo(e,a){e.pagination.currentPage=a,e.serializeLinkOptions(),e.redrawData()}function onPageChangeKey(e,a){37==a.keyCode?changePageTo(e,e.pagination.currentPage>1?e.pagination.currentPage-1:1):39==a.keyCode&&changePageTo(e,e.pagination.currentPage<e.pagination.totalPages?e.pagination.currentPage+1:e.pagination.totalPages)}function clickHandlerDocument(e,a){let n=onPageChangeKey.bind(null,e);document.removeEventListener("keyup",n),e.elements.pageChooser==a.target||e.elements.pageChooser==a.target.parentNode?(document.addEventListener("keyup",n),e.elements.pageChooser.classList.add("selected")):e&&e.elements.pageChooser&&e.elements.pageChooser.classList.remove("selected")}let clickHandlerBoundCall=void 0;function addKeyHandlerToDocument(e){clickHandlerBoundCall||(clickHandlerBoundCall=clickHandlerDocument.bind(null,e)),document.removeEventListener("click",clickHandlerBoundCall),document.addEventListener("click",clickHandlerBoundCall)}function createPageChooser(e,a){let n=document.createElement("div"),t=e.pagination.currentPage,o=e.pagination.totalPages;if(e.pagination.active){n.classList.add("page-chooser","wgt-pagination");let a=1==t,r=t==o;n.append(createPageChooserChild("<<",e,1,!1,a)),n.append(createPageChooserChild("<",e,t-1,!1,a));let{start:d,end:c}=getFrameStartEnd(t,o);for(let a=d;a<=c;a++)t==a?n.append(createPageChooserChild(a.toString(),e,a,!0)):n.append(createPageChooserChild(a.toString(),e,a));n.append(createPageChooserChild(">",e,t+1,!1,r)),n.append(createPageChooserChild(">>",e,o,!1,r))}return n}function createPageChooserChild(e,a,n,t,o){let r=document.createElement("div");return r.innerHTML=e,r.classList.add("page-change","wgt-pagination"),t?r.classList.add("active-page"):o?r.classList.add("page-change-disabled"):r.addEventListener("click",e=>{changePageTo(a,n)}),r}module.exports={getFrameStartEnd:getFrameStartEnd,createPageChooser:createPageChooser,createPageChooserChild:createPageChooserChild,addKeyHandlerToDocument:addKeyHandlerToDocument,changePageTo:changePageTo};

},{}],7:[function(require,module,exports){
var css='/* body {\r\n  font: arial, sans-serif;\r\n} */\n.wgt-grid-container {\n  display: grid;\n  position: static;\n  max-width: min-content;\n  max-height: 500px;\n  overflow-y: scroll;\n  background: lightgray;\n  /* grid-gap: 1px; */\n  /* grid-row-gap: 2px; */\n  grid-column-gap: 2px;\n  border: 1px solid lightgray;\n}\n.header-col-tooltip {\n  position: absolute;\n  font-weight: bold;\n  border: 1px solid lightgray;\n  border-right: 1px dotted lightgray;\n  pointer-events: none;\n  z-index: 99;\n  visibility: hidden;\n  margin: -1px;\n}\n.header-col-tooltip.visible {\n  visibility: visible;\n}\n.wgt-header {\n  font-weight: bold;\n  position: sticky;\n  box-sizing: border-box;\n  top: 0px;\n  border-bottom: 1px solid lightgray;\n  overflow-y: hidden;\n}\n.wgt-header>div.arrow {\n  /* visibility: hidden; */\n  color: lightgray;\n  width: 1em;\n  position: absolute;\n  font-weight: bold;\n  top: 0px;\n  bottom: 0px;\n  right: 0px;\n  padding-right: 5px;\n  margin-top: auto;\n  margin-bottom: auto;\n  font-family: monospace;\n  font-size: large;\n  vertical-align: middle;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  cursor: pointer;\n  -moz-user-select: text;\n  background: white;\n  text-align: center;\n  transform: scale(1, 2)translate(20%, 13%);\n}\n.wgt-col-header-container {\n  width: 1em;\n  overflow-x: visible;\n}\n.wgt-filter_cell {\n  position: sticky;\n  top: 0px;\n  background: white;\n  box-sizing: border-box;\n  width: 100%;\n  height: 2em;\n  text-align: center;\n  vertical-align: middle;\n  font-size: 1rem;\n  border-bottom: 1px solid lightgray;\n  box-shadow: inset 1px 1px 5px 0px lightgrey;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  margin-top: auto;\n  margin-bottom: auto;\n}\n.filter_input {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  bottom: 0px;\n  right: 0px;\n  margin-top: auto;\n  margin-bottom: auto;\n  padding-top: 5px;\n  padding-bottom: 5px;\n}\n.filter_negator {\n  position: absolute;\n  font-weight: bold;\n  top: 0px;\n  bottom: 0px;\n  left: 0px;\n  padding-left: 5px;\n  margin-top: auto;\n  margin-bottom: auto;\n  font-family: monospace;\n  font-size: 1em;\n  vertical-align: middle;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  cursor: pointer;\n}\n.wgt-cell {\n  box-sizing: border-box;\n  font-size: 1rem;\n  padding-left: 20px;\n  padding-right: 20px;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  background: white;\n  /* border: 2px solid lightgray; */\n  overflow-x: hidden;\n}\n.wgt-data-cell {\n  max-width: 500px;\n}\n.wgt-data-cell-money {\n  text-align: end;\n}\n.wgt-header.wgt-cell {\n  padding-right: 30px;\n}\n.wgt-zebra_1 {\n  background: white;\n}\n.wgt-zebra_0 {\n  background: rgb(230, 230, 230);\n}\n.wgt-footer {\n  display: grid;\n  position: sticky;\n  bottom: 0px;\n  background: white;\n  border-top: 1px solid lightgray;\n  grid-template-rows: 1fr;\n  grid-template-columns: repeat(4, fit-content(300px)) 1fr;\n}\n.footer-button {\n  position: relative;\n  border: 1px solid rgba(27, 31, 35, .2);\n  /* border-radius: .25em; */\n  width: max-content;\n  overflow: visible;\n  cursor: pointer;\n  background-color: #eff3f6;\n  background-image: linear-gradient(-180deg, #fafbfc, eff3f6, 90%);\n  background-repeat: repeat-x;\n  background-position: -1px -1px;\n  background-size: 110% 110%;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  user-select: none;\n}\n.footer-button:hover {\n  box-shadow: inset 0px 0px 20px 2px rgba(0, 0, 0, 0.2);\n}\n.footer-button-down:after {\n  display: inline-block;\n  width: 0px;\n  height: 0px;\n  vertical-align: -2px;\n  content: "";\n  border: 4px solid transparent;\n  border-top-color: currentcolor;\n}\n.column-chooser-menu-container {\n  /* position: absolute; */\n  position: relative;\n  width: 200px;\n  height: min-content;\n  /* top: 0px; */\n  /* bottom: 0px; */\n  left: 0px;\n  /* right: 0px; */\n  /* background-color: rgba(0,0,0,.5); */\n  z-index: 99;\n  visibility: visible;\n}\n.column-chooser-menu {\n  margin-top: auto;\n  margin-bottom: auto;\n  overflow: hidden;\n  color: black;\n  border: 1px solid rgba(100, 100, 100, 0.5);\n  border-radius: 5px;\n  list-style: none;\n  padding-left: 0px;\n  background-color: lightgray;\n  box-shadow: 1px 2px 10px 2px rgba(0, 0, 0, 0.2);\n}\n.column-chooser-menu-container.hidden {\n  visibility: hidden;\n  height: 0px;\n}\n.column-chooser-item {\n  background-color: white;\n  /* border-radius: 5px; */\n  margin-top: 1px;\n  user-select: none;\n  white-space: nowrap;\n}\n.column-chooser-item:first-child {\n  margin-top: 0px;\n}\n.column-chooser-item:hover {\n  background-color: lightblue;\n  box-sizing: border-box;\n  background-clip: padding-box;\n  border-radius: 5px;\n}\n.column-chooser-item>label {\n  display: block;\n  cursor: pointer;\n  padding: 5px 20px 5px 5px;\n}\n.page-chooser {\n  display: grid;\n  grid-template-rows: auto;\n  grid-template-columns: repeat(9, auto);\n  font-family: monospace;\n  grid-column: -1;\n  border-left: none;\n  position: sticky;\n  right: 0px;\n}\n.page-chooser.selected {\n  border-left: 1px dotted gray;\n}\n.page-change {\n  margin-top: auto;\n  margin-bottom: auto;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n.page-change:first-child {\n  margin-top: auto !important;\n}\n.page-change:not(.page-change-disabled) {\n  cursor: pointer;\n}\n.page-change-disabled {\n  color: gray;\n}\n.active-page {\n  font-weight: bold;\n}\n.wgt-footer_cell {\n  border-right: 1px solid lightgray;\n  width: max-content;\n}\n@-moz-document url-prefix()  {\n  .wgt-grid-container div:nth-last-child(2).wgt-data-cell {\n    height: 200%;\n  }\n\n  .filter_negator {\n    font-size: 1em;\n  }\n}\n';require("browserify-css").createStyle(css,{href:"node_modules\\wc-grid-table\\src\\wc-grid-table.css"},{insertAt:"bottom"}),module.exports=css;

},{"browserify-css":3}],8:[function(require,module,exports){
require("./wc-grid-table.css");let appname="wc-grid-table";const{regexFilter:regexFilter,textFilter:textFilter,compareFilter:compareFilter}=require("./filter-utils.js"),{createPageChooser:createPageChooser,addKeyHandlerToDocument:addKeyHandlerToDocument}=require("./pagination-utils.js");var test,tableCounter=0;module.exports=function(){const e=/^(-{0,1}[0-9]{1,3}(?:[\.|,]{0,1}[0-9]{3})*[\.|\,]{0,1}[0-9]*)\s{0,1}\D*$/i;function t(e,t){e.header.forEach(t=>{let n=e.elements.header[t];n.offsetHeight,n.offsetHeight>0&&(e.elements.stickyStyle.innerHTML=`\n                          .table-id-${e.tableId} > .wgt-filter_cell {\n                            top: ${n.offsetHeight}px;\n                          }\n                        `)})}function n(t){if(null==t)return"";let n,o=e.exec(t.toString());return n=o?Number.parseFloat(o[1]):t}function o(e,t){return null==e||""===e?1:null==t||""===t?-1:n(t)-n(e)}function i(e,t){let n=0;return null==e||""===e?1:null==t||""===t?-1:(e.toString()>t.toString()&&(n=-1),e.toString()<t.toString()&&(n=1),n)}function s(e,t,o){return t.every(e=>"number"==typeof n(e[o])||null==e[o]||""==e[o].trim())?e.customCompareNumbers:e.customCompareText}function a(e,t,n,o){e.header.includes(t)&&(e.sortedBy.length>0?(e.sortedBy[0].col===t?(e.sortedBy[0].dir="asc"===e.sortedBy[0].dir?"desc":"asc",e.elements.sortArrows[t].innerHTML="asc"===e.sortedBy[0].dir?"&uarr;":"&darr;"):(e.header.filter(e=>e!==t).forEach(t=>{"&#8693;"!==e.elements.sortArrows[t].innerHTML&&(e.elements.sortArrows[t].arrowAlphaColor=.5*e.elements.sortArrows[t].arrowAlphaColor,e.elements.sortArrows[t].style.color=`rgb(0, 0, 0, ${e.elements.sortArrows[t].arrowAlphaColor})`)}),e.sortedBy=[].concat([new Object({col:t,dir:"asc"})],e.sortedBy)),e.elements.sortArrows[t].innerHTML="asc"===e.sortedBy[0].dir?"&uarr;":"&darr;",e.elements.sortArrows[t].arrowAlphaColor=1,e.elements.sortArrows[t].style.color=`rgb(0, 0, 0, ${e.elements.sortArrows[t].arrowAlphaColor})`):(e.sortedBy=[].concat(e.sortedBy,[new Object({col:t,dir:"asc"})]),e.elements.sortArrows[t].innerHTML="&uarr;",e.elements.sortArrows[t].arrowAlphaColor=1,e.elements.sortArrows[t].style.color=`rgb(0, 0, 0, ${e.elements.sortArrows[t].arrowAlphaColor})`),e.serializeLinkOptions(),o&&e.redrawData())}function l(e,t,n){e.pagination.currentPage=1,e.filter[t]=n.srcElement.textContent,e.redrawData(),e.serializeLinkOptions()}function r(e,t,n,o){o.preventDefault();let i=e.activeFilterOperations[t];void 0!==i&&""!=i||(i=e.filterOperations[0].name),i=e.filterOperations[(e.filterOperations.findIndex(e=>e.name==i)+e.filterOperations.length+(n?-1:1))%e.filterOperations.length].name,e.elements.filterOperations[t]&&(e.elements.filterOperations[t].innerHTML=e.filterOperations.find(e=>e.name==i).char),e.activeFilterOperations[t]=i,e.redrawData(),e.serializeLinkOptions()}function d(e,t,n){e.elements.tooltip.innerHTML=n,e.elements.tooltip.state.offsetLeft=t.offsetLeft,e.elements.tooltip.style.left=`${t.offsetLeft-e.scrollLeft}px`,e.elements.tooltip.classList.add("visible")}function c(e,t,n){e.elements.tooltip.classList.remove("visible")}function h(e){let n=0;!function(e){let t=e.elements.tooltip=document.createElement("div");t.state={offsetLeft:0},t.classList.add("header-col-tooltip"),t.classList.add("wgt-cell"),e.append(t)}(e),e.elements.header||(e.elements.header={}),e.header.forEach((t,o)=>{let i=document.createElement("div");i.classList.add("wgt-header"),i.classList.add(`wgt-column_${t.split(" ").join("_")}`),i.classList.add("wgt-cell");let s=document.createElement("div");s.classList.add("wgt-col-header-container"),s.innerHTML=t,i.append(s),i.addEventListener("mouseenter",d.bind(this,e,i,t)),i.addEventListener("mouseleave",c.bind(this,e,i,t)),e.append(i),n=i.offsetHeight;let l=document.createElement("div");l.classList.add("arrow"),l.innerHTML="&#8693;",l.addEventListener("mouseenter",function(t){c(e),t.stopPropagation()}),l.addEventListener("mouseleave",d.bind(this,e,i,t)),e.elements.header[t]=i,e.elements.sortArrows[t]=l,function(e,t,n){e.addEventListener("click",e=>a(n,t,e,!0))}(l,t,e),i.append(l)}),e.addEventListener("scroll",t=>{e.elements.tooltip.style.left=`${e.elements.tooltip.state.offsetLeft-e.scrollLeft}px`}),window.addEventListener("message",function(n){if(n.data)try{console.log(n.data),"fix-columns"===JSON.parse(n.data).type&&t(e)}catch(e){"SyntaxError"==e.name||console.error(e)}}),requestAnimationFrame(()=>{setTimeout(t.bind(this,e,n),1e3),function(e,t){let n=e.elements.stickyStyle;n||(e.elements.stickyStyle=n=document.createElement("style"),n.type="text/css",n.classList.add("sticky_filter_offset"));n.innerHTML=`\n      .table-id-${e.tableId} > .wgt-filter_cell {\n        top: ${t}px;\n      }\n    `,e.root_document.head.append(n)}(e,n)})}function u(e,t,n){!function(e){m=function(e,t){let n=e.offsetLeft;e.elements.total_rows&&(n+=e.elements.total_rows.offsetWidth);e.elements.filtered_row_count&&(n+=e.elements.filtered_row_count.offsetWidth);e.elements.columnChooserMenuContainer.style.left=`${n}px`;let o=e.elements.columnChooserMenuContainer.classList;o.contains("hidden")?(o.remove("hidden"),e.root_document.addEventListener("click",p)):(o.add("hidden"),e.root_document.removeEventListener("click",p))}.bind(null,e),p=function(e,t){if(!t.srcElement.classList.contains("column-chooser")&&!t.srcElement.classList.contains("footer-button")){let t=e.elements.columnChooserMenuContainer.classList;t.add("hidden"),e.root_document.removeEventListener("click",p)}}.bind(null,e)}(e);let o=document.createElement("div");o.classList.add("wgt-footer"),o.style.gridColumn=`1 / ${e.header.length+1}`,e.elements.columnChooserMenuContainer||(e.elements.columnChooserMenuContainer=function(e,t){e.elements.columnChooserCheckbox||(e.elements.columnChooserCheckbox={});let n=document.createElement("ul");n.classList.add("column-chooser-menu","column-chooser");let o=document.createElement("div");return o.classList.add("column-chooser-menu-container","hidden"),console.log(new Set(t).union(e.hiddenColumns)),new Set(t).union(e.hiddenColumns).forEach(t=>{n.append(function(e,t){let n=document.createElement("li");n.classList.add("column-chooser-item","column-chooser");let o=document.createElement("label");o.innerHTML=t,o.setAttribute("name",t+"_checkbox"),o.classList.add("column-chooser");let i=document.createElement("input");return i.setAttribute("type","checkbox"),i.setAttribute("name",t+"_checkbox"),(!e.hiddenColumns.includes(t)||e.visibleColumns.includes(t))&&i.toggleAttribute("checked"),i.classList.add("column-chooser"),f=function(e,t,n){n.srcElement.checked?(e.hiddenColumns=e.hiddenColumns.filter(e=>e!=t),e.visibleColumns.push(t)):(e.hiddenColumns.push(t),e.visibleColumns=e.visibleColumns.filter(e=>e!==t)),e.serializeLinkOptions(),e.redrawTable()}.bind(null,e,t),i.addEventListener("change",f),e.elements.columnChooserCheckbox[t]=i,o.prepend(i),n.append(o),n}(e,t))}),o.append(n),o}(e,e.headerAll),e.parentElement.insertBefore(e.elements.columnChooserMenuContainer,e.nextSibling));let i=document.createElement("div");if(i.innerHTML=`Total: ${e.data.length}`,i.classList.add("wgt-footer_cell","wgt-cell"),o.append(i),e.elements.total_rows=i,e.data.length!==t.length){let n=document.createElement("div");n.innerHTML=`Filtered: ${t.length}${e.pagination.active?` / ${e.pagination.filteredDataCount}`:""}`,n.classList.add("wgt-footer_cell","wgt-cell"),o.append(n),e.elements.filtered_row_count=n}o&&o.append(function(e){let t=document.createElement("div");return t.classList.add("wgt-footer_cell","wgt-cell","footer-button-down","footer-button"),t.innerHTML="columns",t.addEventListener("click",m),t}()),e.drawOptionals.rewriteurl&&o.append(function(e){let t=document.createElement("div");return t.classList.add("footer-button","wgt-footer-cell","wgt-cell"),t.innerHTML="reset",t.addEventListener("click",function(e){if(confirm("Sicher, dass alle angewendeten Umformungen zurückgesetzt werden sollen")){let e=new URL(location.href);e.search="?"+e.search.slice(1).split("&").filter(e=>!e.split("=")[0].startsWith("table")).join("&"),location.href=e.href}}),t}()),n&&o.append(n),e.elements.footer&&e.elements.footer.remove(),e.elements.footer=o,e.plugins.ui&&Reflect.ownKeys(e.plugins.ui).forEach(t=>e.plugins.ui[t].addFooterButton(e)),e.append(o)}let m=void 0,p=void 0,f=void 0;function g(e){if(e.elements.sortArrows={},e.drawOptionals={header:!e.hasAttribute("noheader"),filter:!e.hasAttribute("nofilter"),footer:!e.hasAttribute("nofooter"),pagekey:!e.hasAttribute("nopagekey"),rewriteurl:!e.hasAttribute("norewriteurl")},e.innerHTML="",e.data||(e.data=[]),e.sortedData||(e.sortedData=e.data.map(e=>e)),!e.headerAll&&e.data.length>0){let t=e.data.map(Object.keys).reduce((e,t)=>{let n=e;return t.forEach(t=>{e.includes(t)||n.push(t)}),n},[]);console.log("genheader",t),e.headerAll=t,e.hiddenColumns=e.hiddenColumns.concat(e.headerAll.filter(t=>e.hiddenColumnsCondition.map(n=>({col:t,hidden:n(t,e.data)})).filter(e=>e.hidden).map(e=>e.col).includes(t)))}if(e.headerAll&&e.elements.columnChooserCheckbox)for(let t of e.headerAll)e.hiddenColumns.includes(t)&&!e.visibleColumns.includes(t)?e.elements.columnChooserCheckbox[t].checked=!1:e.elements.columnChooserCheckbox[t].checked=!0;console.log("hidden columns",e.hiddenColumns),e.headerAll&&(e.header=e.headerAll.filter(t=>!e.hiddenColumns.includes(t)||e.visibleColumns.includes(t)),e.style.gridTemplateColumns=`repeat(${e.header.length}, max-content)`),e.drawOptionals.header&&e.header&&h(e),e.drawOptionals.filter&&e.header&&function(e,t,n){e.elements.filterCells={},e.elements.filterOperations={},t.forEach(t=>{let n=document.createElement("div");n.classList.add("wgt-filter_cell",`wgt-filter_cell_${t.split(" ").join("_")}`,"wgt-filter_input");let o=document.createElement("div");o.addEventListener("input",n=>l.bind(null,e,t)(n)),o.classList.add("filter_input"),o.contentEditable="true";let i=document.createElement("div");e.elements.filterOperations[t]=i,i.innerHTML="&sube;",i.classList.add("filter_negator"),i.addEventListener("click",n=>r.bind(null,e,t,!1)(n)),i.addEventListener("contextmenu",n=>r.bind(null,e,t,!0)(n)),n.append(o),n.append(i),e.elements.filterCells[t]=n,e.append(n)})}(e,e.header,e.filter),e.data.length>0&&(e.displayedData=b(e),console.log("Finished transform of data.",e.displayedData,appname),e.elements.pageChooser=createPageChooser(e,e.displayedData),e.drawOptionals.footer&&u(e,e.displayedData,e.elements.pageChooser)),e.drawOptionals.pagekey&&addKeyHandlerToDocument(e)}function b(e){e.sortedData=function(e){if(e.sortedBy&&e.sortedBy.length>0){column=e.sortedBy[0].col;let t=e.sortedData.sort((t,n)=>e.customChooseSortsCompareFn(e,e.data,column)(t[column],n[column]));return"desc"===e.sortedBy[0].dir&&(t=[].concat(t.filter(e=>null!=e[column]&&""!==e[column]).reverse(),t.filter(e=>null==e[column]||""===e[column]))),t}return e.sortedData}(e),function(e,t,n,o,i){if(i.active){let i=e.elements.columnStyle;i||(e.elements.columnStyle=i=document.createElement("style"),i.type="text/css",i.classList.add("column_styles"),e.root_document.head.append(i)),i.innerHTML="",n.forEach(e=>{o.forEach(n=>{n.condition(t,e)&&(i.innerHTML+=`\n              div.wgt-column_${e}.wgt-data-cell {\n                ${n.styles.join("\n")}\n              }\n            `)})})}}(e,e.sortedData,e.header,e.conditionalColumnStyle,e.conditionalStyleOptions);let t=e.formattedData=(n=e.sortedData,o=e.header,i=e.formatter,e.formatterOptions.active?n.map((e,t,n)=>{let s=e;return o.forEach(o=>{i[o]?s[o]=i[o].reduce((e,o)=>o(e,t,n),e[o]):s[o]=e[o]}),s}):n);var n,o,i;let s=e.filteredData=function(e,t,n,o,i){return i.active?t.filter(t=>n.map(n=>!o[n]||(""!=e.activeFilterOperations[n]&&null!=e.activeFilterOperations[n]||(e.activeFilterOperations[n]=e.filterOperations[0].name),e.filterOperations.find(t=>t.name==e.activeFilterOperations[n]).fn(o[n],t[n]))).reduce((e,t)=>e&&t,!0)):t}(e,t,e.header,e.filter,e.filterOptions);e.pagination.filteredDataCount=s.length;let a=e.pageinatedData=function(e,t){let n=t;return e.pagination.active=e.paginationOptions.active,e.pagination.totalPages=e.pagination.active?Math.ceil(t.length/e.pagination.pageSize):1,1==e.pagination.totalPages?e.pagination.active=!1:n=t.filter((t,n)=>!e.pagination.active||n>=(e.pagination.currentPage-1)*e.pagination.pageSize&&n<e.pagination.currentPage*e.pagination.pageSize),n}(e,s);return console.log({header:e.header,"sorted data":e.sortedData,"formatted data":t,"filtered data":s,"paginated data":a}),e.style.gridTemplateRows=`${e.drawOptionals.header?"max-content":""} ${e.drawOptionals.filter?"max-content":""} repeat(${a.length}, max-content) ${e.drawOptionals.footer?"max-content":""}`,function(e,t){e.elements.dataCells={},t.forEach((t,n)=>{e.header.forEach((o,i)=>{let s=document.createElement("div");s.classList.add("wgt-cell","wgt-data-cell",`wgt-column_${o.split(" ").join("_")}`,`wgt-row_${n}`,`wgt-zebra_${n%2}`),o.includes("€")&&s.classList.add("wgt-data-cell-money"),s.innerHTML=null!=t[o]?t[o]:"",e.elements.dataCells[o]||(e.elements.dataCells[o]=[]),e.elements.dataCells[o].push(s),e.append(s)})})}(e,a),function(e,t,n,o,i){if(i.active){let n=e.elements.columnStyle;n||(e.elements.columnStyle=n=document.createElement("style"),n.type="text/css",n.classList.add("row_styles"),e.root_document.head.append(n)),n.innerHTML="",Object.keys(o).forEach(e=>{t.forEach((t,i)=>{o[e].forEach(o=>{o.condition(t[e],i)&&(n.innerHTML+=`div${o.fullrow?"":`.wgt-column_${e}`}.wgt-row_${i} {\n`,n.innerHTML+=o.styles.join("\n"),n.innerHTML+="\n}")})})})}}(e,a,e.header,e.conditionalRowStyle,e.conditionalStyleOptions),a}const w=/^((?:function\s*.*){0,1}\(([^\(\{\[\=\>]*)\)\s*(?:=>|\{)\s*[\{\(]{0,1}.*[\}\)]{0,1})$/gy;function C(e){let t=w.exec(e).groups[2].split(",").map(e=>e.trim());return new Function(...t,`return (${e.toString()})(${t.join(", ")})`)}function y(e,t){console.log("reaply sorting"),function(e){e.sortedData=e.data?e.data.map(e=>e):[],e.sortedBy=[],e.header&&e.header.forEach(t=>{e.elements.sortArrows[t].innerHTML="&#8693;",e.elements.sortArrows[t].arrowAlphaColor=1,e.elements.sortArrows[t].style.color="lightgray"})}(e),t.sortedBy&&t.sortedBy.reverse().slice(-4).forEach(t=>{"desc"==t.dir&&a(e,t.col),a(e,t.col)})}class L extends HTMLElement{constructor(){var e;super(),Object.defineProperty(Set.prototype,"union",{value:function(e){for(let t of e)this.add(t);return this},enumerable:!1,writable:!0}),this.linkOptions=["pagination","filter","sortedBy","activeFilterOperations","hiddenColumns","visibleColumns"],e=this,["options","root_document","optionalDebounceFn","sortedData","data","header","displayedData","drawOptionals","elements","tableId","plugins"].forEach(t=>Object.defineProperty(e,t,{enumerable:!1,writable:!0})),this.options={},function(e,t){t.forEach(t=>Object.defineProperty(e,t,{enumerable:!0,writable:!0}))}(this,["conditionalColumnStyle","conditionalRowStyle","conditionalStyleOptions","formatter","formatterOptions","filter","filterOptions","filterOperations","activeFilterOperations","sortedBy","sortOptions","pagination","customCompareNumbers","customCompareText","customChooseSortsCompareFn","hiddenColumns","hiddenColumnsCondition","visibleColumns","tickedRows"]),this.plugins={data:{}},this.useDefaultOptions()}useDefaultOptions(){this.root_document=document,this.elements={},this.tableId=tableCounter++,this.data=[],this.hiddenColumns=[],this.visibleColumns=[],this.hiddenColumnsCondition=[(e,t)=>e.startsWith("#")],this.elements.sortArrows={},this.optionalDebounceFn=void 0,this.activeFilterOperations={},this.paginationOptions={active:!0},this.pagination={active:!0,currentPage:1,pageSize:40},this.filterOperations=[{name:"containsEx",char:"&sube;",fn:regexFilter.bind(null,!1)},{name:"notContainsEx",char:"&#8840;",fn:regexFilter.bind(null,!0)},{name:"equals",char:"=",fn:compareFilter.bind(null,(e,t)=>e==t)},{name:"greater",char:">",fn:compareFilter.bind(null,(e,t)=>e<t)},{name:"greaterEquals",char:"&ge;",fn:compareFilter.bind(null,(e,t)=>e<=t)},{name:"lesser",char:"<",fn:compareFilter.bind(null,(e,t)=>e>t)},{name:"lesserEquals",char:"&le;",fn:compareFilter.bind(null,(e,t)=>e>=t)},{name:"unEquals",char:"&ne;",fn:compareFilter.bind(null,(e,t)=>e!=t)}],this.conditionalColumnStyle=[],this.conditionalRowStyle={},this.conditionalStyleOptions={active:!0},this.formatter={},this.formatterOptions={active:!0},this.filter={},this.filterOptions={active:!0},this.sortedBy=[],this.sortOptions={active:!0},this.customCompareNumbers=o,this.customCompareText=i,this.customChooseSortsCompareFn=s,this.drawOptionals={},this.tickedRows=[]}loadPartialOptions(e){var t;this.data.length>0&&(console.log("partial",e),Object.keys(e).sort((e,t)=>"hiddenColumns"==e?1:-1).forEach(t=>{"sortedBy"==t?y(this,e):"hiddenColumns"==t?(this[t]=e[t],this.redrawTable()):this[t]=e[t]}),(t=this).header.forEach(e=>{let n=t.filterOperations.find(n=>n.name==t.activeFilterOperations[e]);n&&(t.elements.filterOperations[e].innerHTML=n.char)}),this.redrawData())}serializeLinkOptions(){let e=new Object;this.linkOptions.forEach(t=>{e[t]=this[t]});let t=btoa(encodeURIComponent(JSON.stringify(e,(e,t)=>t instanceof Function?function(e){return e.toString()}(t):t))),n=function(e,t){let n="?",o=!1,i=location.search.slice(1).split("&");return i.length>1?i.forEach(i=>{let s=i.split("=")[0];s==e?(o=!0,n+=`${s}=${t}&`):n+=`${s}=${i.split("=").slice(1).join("=")}&`}):1==i.length&&(""==i[0]?(o=!0,n+=`${e}=${t}&`):i[0].split("=")[0]==e?(o=!0,n+=`${e}=${t}&`):n+=`${i[0].split("=")[0]}=${i[0].split("=").slice(1).join("=")}&`),o||(n+=`${e}=${t}&`),n.slice(0,-1)+location.hash}(`table${this.tableId}`,t);this.drawOptionals.rewriteurl&&history.replaceState(history.state,"",n)}loadLinkOptions(){let e="{}";return location.search.slice(1).split("&").forEach(t=>{let n=t.split("=");n[0]==`table${this.tableId}`&&(e=decodeURIComponent(atob(n.slice(1).join("="))))}),JSON.parse(e,(e,t)=>t instanceof Array||!t.toString().match(w)?t:C(t))}deserializeOptions(e){return e?JSON.parse(decodeURIComponent(atob(e,(e,t)=>t instanceof Array||!t.toString().match(w)?t:C(t)))):{}}loadSerializedOptions(e){this.options=JSON.parse(e,(e,t)=>t instanceof Array||!t.toString().match(w)?t:C(t)),this.tickedRows=this.options.tickedRows,this.redrawData()}connectedCallback(){this.root_document.body||(this.root_document.body=document.createElement("body")),this.root_document.head||(this.root_document.head=document.createElement("head")),this.classList.add(`table-id-${this.tableId}`),this.classList.add("wgt-grid-container"),!this.sortedData&&this.data&&(this.sortedData=this.data.map(e=>e));let e=this.getAttribute("height");e&&(this.style.maxHeight=e);let t=this.getAttribute("page-size");t&&(this.pagination.pageSize=t),this.loadInitialOptions(),g(this)}loadInitialOptions(){let e=this.deserializeOptions(this.getAttribute("options")),t=this.loadLinkOptions();new Set(Object.keys(e)).union(Object.keys(t)).forEach(n=>{e[n]&&(this.options[n]=e[n]),t[n]&&0!=Object.keys(t[n]).length&&(this.options[n]=t[n])}),this.loadPartialOptions(this.options)}setDebounceFn(e,t,n){this.optionalDebounceFn&&(a.cancel(),l.cancel()),this.optionalDebounceFn=e,a=this.optionalDebounceFn(a,...t),l=this.optionalDebounceFn(l,...n)}_setData(e){this.data=e,this.sortedData=this.data.map(e=>e),g(this),this.loadInitialOptions()}setData(e){this._setData(e)}getDisplayedData(){return this.displayedData}getOriginalData(){return this.data}redrawData(){if(this.header.forEach(e=>{this.elements.dataCells[e]&&[].forEach.call(this.elements.dataCells[e],e=>e.remove()),this.drawOptionals.filter&&this.elements.filterCells[e].firstChild.textContent!=this.filter[e]&&(this.elements.filterCells[e].firstChild.textContent=this.filter[e])}),this.data.length>0){let e=!!this.elements.pageChooser&&this.elements.pageChooser.classList.contains("selected");this.displayedData=b(this),this.elements.pageChooser=createPageChooser(this,this.displayedData),this.drawOptionals.footer&&u(this,this.displayedData,this.elements.pageChooser),e&&this.elements.pageChooser.classList.add("selected")}}redrawTable(){let e={};Object.keys(this.options).forEach(t=>{this.linkOptions.includes(t)&&(e[t]=this[t])}),g(this),y(this,e)}registerPlugin(e){switch(console.log(e),this.plugins[e.type]||(this.plugins[e.type]={}),this.plugins[e.type][e.name]=e,Reflect.ownKeys(e.tableExtensions).forEach(t=>{L.prototype[t]||(L.prototype[t]=e.tableExtensions[t].bind(this))}),e.type){case"data":let t=this.setData.bind(this);this.setData=function(n){e.exec.bind(this)(n).then(e=>{t(e)})};break;case"ui":break;default:throw new Error("")}}}return{regexFilter:regexFilter,textFilter:textFilter,compareNumbers:o,compareText:i,chooseSortsCompareFn:s,defineCustomElement:function(){customElements.define("wc-grid-table",L)},TableComponent:L}}();

},{"./filter-utils.js":5,"./pagination-utils.js":6,"./wc-grid-table.css":7}],9:[function(require,module,exports){
var css="div.wgt-header div {\n  word-wrap: normal;\n  white-space: nowrap;\n}\nprot-table-v3 ul {\n  padding-top: 5px;\n  padding-left: 10px;\n  background-color: white;\n}\n";require("browserify-css").createStyle(css,{href:"style.css"},{insertAt:"bottom"}),module.exports=css;

},{"browserify-css":3}]},{},[2]);
