!function(){var e={exports:{}};(function(t){!function(n){"object"==typeof e.exports?e.exports=n():"function"==typeof define&&define.amd?define([],n):("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).WcGridTable=n()}(function(){var e=[],t=function(t,n){var o=document.head||document.getElementsByTagName("head")[0],i=e[e.length-1];if((n=n||{}).insertAt=n.insertAt||"bottom","top"===n.insertAt)i?i.nextSibling?o.insertBefore(t,i.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),e.push(t);else{if("bottom"!==n.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");o.appendChild(t)}};!function(e,n,o){o=o||{};var i=document.createElement("style");for(var r in i.type="text/css",n)if(n.hasOwnProperty(r)){var a=n[r];i.setAttribute("data-"+r,a)}i.sheet?(i.innerHTML=e,i.sheet.cssText=e,t(i,{insertAt:o.insertAt})):i.styleSheet?(t(i,{insertAt:o.insertAt}),i.styleSheet.cssText=e):(i.appendChild(document.createTextNode(e)),t(i,{insertAt:o.insertAt}))}('/* body {\r\n  font: arial, sans-serif;\r\n} */\n.wgt-grid-container {\n  display: grid;\n  position: relative;\n  width: min-content;\n  max-height: 500px;\n  overflow-y: scroll;\n  background: lightgray;\n  /* grid-gap: 1px; */\n  /* grid-row-gap: 2px; */\n  grid-column-gap: 2px;\n  border: 1px solid lightgray;\n}\n.wgt-header {\n  font-weight: bold;\n  position: sticky;\n  box-sizing: border-box;\n  top: 0px;\n  border-bottom: 1px solid lightgray;\n}\n.wgt-header>div.arrow {\n  /* visibility: hidden; */\n  color: lightgray;\n  width: 1em;\n  position: absolute;\n  font-weight: bold;\n  top: 0px;\n  bottom: 0px;\n  right: 0px;\n  padding-right: 5px;\n  margin-top: auto;\n  margin-bottom: auto;\n  font-family: monospace;\n  font-size: large;\n  vertical-align: middle;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  cursor: pointer;\n  -moz-user-select: text;\n}\n.wgt-filter_cell {\n  position: sticky;\n  top: 0px;\n  background: white;\n  box-sizing: border-box;\n  width: 100%;\n  height: 2em;\n  text-align: center;\n  vertical-align: middle;\n  font-size: 1rem;\n  border-bottom: 1px solid lightgray;\n  box-shadow: inset 1px 1px 5px 0px lightgrey;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  margin-top: auto;\n  margin-bottom: auto;\n}\n.filter_input {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  bottom: 0px;\n  right: 0px;\n  margin-top: auto;\n  margin-bottom: auto;\n  padding-top: 5px;\n  padding-bottom: 5px;\n}\n.filter_negator {\n  position: absolute;\n  font-weight: bold;\n  top: 0px;\n  bottom: 0px;\n  left: 0px;\n  padding-left: 5px;\n  margin-top: auto;\n  margin-bottom: auto;\n  font-family: monospace;\n  font-size: 1.5em;\n  vertical-align: middle;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  cursor: pointer;\n}\n.wgt-cell {\n  box-sizing: border-box;\n  font-size: 1rem;\n  padding-left: 20px;\n  padding-right: 20px;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  background: white;\n  /* border: 2px solid lightgray; */\n}\n.wgt-header.wgt-cell {\n  padding-right: 30px;\n}\n.wgt-zebra_1 {\n  background: white;\n}\n.wgt-zebra_0 {\n  background: rgb(230, 230, 230);\n}\n.wgt-footer {\n  display: grid;\n  position: sticky;\n  bottom: 0px;\n  background: white;\n  border-top: 1px solid lightgray;\n  grid-template-rows: 1fr;\n  grid-template-columns: fit-content(300px) 1fr 1fr;\n}\n.column-chooser-button {\n  position: relative;\n  border: 1px solid rgba(27, 31, 35, .2);\n  border-radius: .25em;\n  width: min-content;\n  overflow: visible;\n  cursor: pointer;\n  background-color: #eff3f6;\n  background-image: linear-gradient(-180deg, #fafbfc, eff3f6, 90%);\n  background-repeat: repeat-x;\n  background-position: -1px -1px;\n  background-size: 110% 110%;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  user-select: none;\n}\n.column-chooser-button:hover {\n  box-shadow: inset 0px 0px 20px 2px rgba(0, 0, 0, 0.2);\n}\n.column-chooser-button:after {\n  display: inline-block;\n  width: 0px;\n  height: 0px;\n  vertical-align: -2px;\n  content: "";\n  border: 4px solid transparent;\n  border-top-color: currentcolor;\n}\n.column-chooser-menu-container {\n  position: absolute;\n  /* top: 0px; */\n  /* bottom: 0px; */\n  left: 0px;\n  /* right: 0px; */\n  /* background-color: rgba(0,0,0,.5); */\n  z-index: 99;\n  visibility: visible;\n}\n.column-chooser-menu {\n  margin-top: auto;\n  margin-bottom: auto;\n  overflow: hidden;\n  color: black;\n  border: 1px solid rgba(100, 100, 100, 0.5);\n  border-radius: 5px;\n  list-style: none;\n  padding-left: 0px;\n  background-color: lightgray;\n  box-shadow: 1px 2px 10px 2px rgba(0, 0, 0, 0.2);\n}\n.column-chooser-menu-container.hidden {\n  visibility: hidden;\n}\n.column-chooser-item {\n  background-color: white;\n  border-radius: 5px;\n  margin-top: 1px;\n  user-select: none;\n  white-space: nowrap;\n}\n.column-chooser-item:first-child {\n  margin-top: 0px;\n}\n.column-chooser-item:hover {\n  background-color: lightblue;\n  box-sizing: border-box;\n  background-clip: padding-box;\n  border-radius: 5px;\n}\n.column-chooser-item>label {\n  display: block;\n  cursor: pointer;\n  padding: 5px 20px 5px 5px;\n}\n.page-chooser {\n  display: grid;\n  grid-template-rows: auto;\n  grid-template-columns: repeat(9, auto);\n  font-family: monospace;\n  grid-column: -1;\n  border-left: none;\n}\n.page-chooser.selected {\n  border-left: 1px dotted gray;\n}\n.page-change {\n  margin-top: auto;\n  margin-bottom: auto;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n.page-change:not(.page-change-disabled) {\n  cursor: pointer;\n}\n.page-change-disabled {\n  color: gray;\n}\n.active-page {\n  font-weight: bold;\n}\n.wgt-footer_cell {\n  border-right: 1px solid lightgray;\n  width: max-content;\n}\n',{href:"src\\wc-grid-table.css"},{insertAt:"bottom"});var n={regexFilter:function(e,t,n){let o=!1;if(null!=n){let e=n.toString().match(new RegExp(t,"i"));o=Boolean(e)&&e.length>0}return e?!o:o},textFilter:function(e,t,n){let o=!1;return null!=n&&(o=n.toString().toUpperCase().includes(t.toUpperCase())),e?!o:o},compareFilter:function(e,t,n){let i=!1;if(null!=n)try{i=e(Number.parseFloat(t),Number.parseFloat(n))}catch(o){i=e(t.toString(),n.toString())}return i}};function o(e,t){e.pagination.currentPage=t,console.log("page changed"),e.serializeLinkOptions(),e.redrawData()}let i=void 0;function r(e,t,n,i,r){let a=document.createElement("div");return a.innerHTML=e,a.classList.add("page-change","pagination"),i?a.classList.add("active-page"):r?a.classList.add("page-change-disabled"):a.addEventListener("click",e=>{o(t,n)}),a}var a={createPageChooser:function(e,t){let n=document.createElement("div"),o=e.pagination.currentPage,i=e.pagination.totalPages;if(e.pagination.active){n.classList.add("page-chooser","pagination");let t=1==o,a=o==i;n.append(r("<<",e,1,!1,t)),n.append(r("<",e,o-1,!1,t));let{start:l,end:s}=function(e,t){let n=e-2,o=e+2;return e>=i-1?(o=i,n=i<5?1:i-4):e<=2&&(o=i<5?i:5,n=1),{start:n,end:o}}(o);for(let i=l;i<=s;i++)o==i?n.append(r(i.toString(),e,i,!0)):n.append(r(i.toString(),e,i));n.append(r(">",e,o+1,!1,a)),n.append(r(">>",e,i,!1,a))}return n},addKeyHandlerToDocument:function(e){i||(i=function(e,t){let n=function(e,t){37==t.keyCode?o(e,e.pagination.currentPage>1?e.pagination.currentPage-1:1):39==t.keyCode&&o(e,e.pagination.currentPage<e.pagination.totalPages?e.pagination.currentPage+1:e.pagination.totalPages)}.bind(null,e);document.removeEventListener("keyup",n),e.elements.pageChooser==t.target||e.elements.pageChooser==t.target.parentNode?(document.addEventListener("keyup",n),e.elements.pageChooser.classList.add("selected")):e.elements.pageChooser.classList.remove("selected")}.bind(null,e)),document.removeEventListener("click",i),document.addEventListener("click",i)}};const{regexFilter:l,textFilter:s,compareFilter:d}=n,{createPageChooser:c,addKeyHandlerToDocument:p}=a;return function(){function e(e,t){return null==e?1:null==t?-1:e-t}function t(e,t){let n=0;return null==e?1:null==t?-1:(e.toString()>t.toString()&&(n=-1),e.toString()<t.toString()&&(n=1),n)}function n(e,t,n){return Number.isNaN(t.reduce((e,t)=>e+=null!=t[n]?Number.parseFloat(t[n]):0,0))?e.customCompareText:e.customCompareNumbers}function o(e,t,n,o){e.header.includes(t)&&(e.sortedBy.length>0?(e.sortedBy[0].col===t?(e.sortedBy[0].dir="asc"===e.sortedBy[0].dir?"desc":"asc",e.elements.sortArrows[t].innerHTML="asc"===e.sortedBy[0].dir?"&uarr;":"&darr;"):(e.header.filter(e=>e!==t).forEach(t=>{"&#8693;"!==e.elements.sortArrows[t].innerHTML&&(e.elements.sortArrows[t].arrowAlphaColor=.5*e.elements.sortArrows[t].arrowAlphaColor,e.elements.sortArrows[t].style.color=`rgb(0, 0, 0, ${e.elements.sortArrows[t].arrowAlphaColor})`)}),e.sortedBy=[].concat([new Object({col:t,dir:"asc"})],e.sortedBy)),e.elements.sortArrows[t].innerHTML="asc"===e.sortedBy[0].dir?"&uarr;":"&darr;",e.elements.sortArrows[t].arrowAlphaColor=1,e.elements.sortArrows[t].style.color=`rgb(0, 0, 0, ${e.elements.sortArrows[t].arrowAlphaColor})`):(e.sortedBy=[].concat(e.sortedBy,[new Object({col:t,dir:"asc"})]),e.elements.sortArrows[t].innerHTML="&uarr;",e.elements.sortArrows[t].arrowAlphaColor=1,e.elements.sortArrows[t].style.color=`rgb(0, 0, 0, ${e.elements.sortArrows[t].arrowAlphaColor})`),e.serializeLinkOptions(),o&&e.redrawData())}function i(e,t,n){e.filter[t]=n.srcElement.textContent,e.redrawData(),e.serializeLinkOptions()}function r(e,t,n){!function(e){a=function(e,t){let n=e.offsetLeft;e.elements.total_rows&&(n+=e.elements.total_rows.offsetWidth),e.elements.filtered_row_count&&(n+=e.elements.filtered_row_count.offsetWidth),e.elements.columnChooserMenuContainer.style.left=`${n}px`;let o=e.elements.columnChooserMenuContainer.classList;o.contains("hidden")?(o.remove("hidden"),e.root_document.addEventListener("click",u)):(o.add("hidden"),e.root_document.removeEventListener("click",u))}.bind(null,e),u=function(e,t){t.srcElement.classList.contains("column-chooser")||t.srcElement.classList.contains("column-chooser-button")||(e.elements.columnChooserMenuContainer.classList.add("hidden"),e.root_document.removeEventListener("click",u))}.bind(null,e)}(e);let o=document.createElement("div");o.classList.add("wgt-footer"),o.style.gridColumn=`1 / ${e.header.length+1}`,e.elements.columnChooserMenuContainer||(console.log("creating menu"),e.elements.columnChooserMenuContainer=function(e,t){e.elements.columnChooserCheckbox||(e.elements.columnChooserCheckbox={});let n=document.createElement("ul");n.classList.add("column-chooser-menu","column-chooser");let o=document.createElement("div");return o.classList.add("column-chooser-menu-container","hidden"),t.forEach(t=>{n.append(function(e,t){let n=document.createElement("li");n.classList.add("column-chooser-item","column-chooser");let o=document.createElement("label");o.innerHTML=t,o.setAttribute("name",t+"_checkbox"),o.classList.add("column-chooser");let i=document.createElement("input");return i.setAttribute("type","checkbox"),i.setAttribute("name",t+"_checkbox"),e.hiddenColumns.includes(t)||i.toggleAttribute("checked"),i.classList.add("column-chooser"),h=function(e,t,n){n.srcElement.checked?e.hiddenColumns=e.hiddenColumns.filter(e=>e!=t):e.hiddenColumns.push(t),e.redrawTable()}.bind(null,e,t),i.addEventListener("change",h),console.log(h),e.elements.columnChooserCheckbox[t]=i,o.prepend(i),n.append(o),n}(e,t))}),o.append(n),o}(e,e.headerAll),e.parentElement.insertBefore(e.elements.columnChooserMenuContainer,e.nextSibling));let i=document.createElement("div");if(i.innerHTML=`Total: ${e.data.length}`,i.classList.add("wgt-footer_cell","wgt-cell"),o.append(i),e.elements.total_rows=i,e.data.length!==t.length){let n=document.createElement("div");n.innerHTML=`Filtered: ${t.length}${e.pagination.active?` / ${e.pagination.filteredDataCount}`:""}`,n.classList.add("wgt-footer_cell","wgt-cell"),o.append(n),e.elements.filtered_row_count=n}o&&o.append(function(e){let t=document.createElement("div");return t.classList.add("wgt-footer_cell","wgt-cell","column-chooser-button"),t.innerHTML="columns",t.addEventListener("click",a),t}()),n&&o.append(n),e.elements.footer&&e.elements.footer.remove(),e.elements.footer=o,e.append(o)}let a=void 0,u=void 0,h=void 0;function m(e){e.elements.sortArrows={},e.drawOptionals={header:!e.hasAttribute("noheader"),filter:!e.hasAttribute("nofilter"),footer:!e.hasAttribute("nofooter"),pagekey:!e.hasAttribute("nopagekey"),rewriteurl:e.hasAttribute("rewriteurl")},e.innerHTML="",e.data||(e.data=[]),e.sortedData||(e.sortedData=e.data.map(e=>e)),!e.headerAll&&e.data.length>0&&(e.headerAll=e.data.map(Object.keys).reduce((e,t)=>{let n=e;return t.forEach(t=>{e.includes(t)||n.push(t)}),n},[]),e.headerAll=e.headerAll.filter(t=>!e.hiddenColumnsCondition.map(n=>({col:t,hidden:n(t,e.data)})).filter(e=>e.hidden).map(e=>e.col).includes(t))),e.headerAll&&(e.header=e.headerAll.filter(t=>!e.hiddenColumns.includes(t)),e.style.gridTemplateColumns=`repeat(${e.header.length}, max-content)`),e.drawOptionals.header&&e.header&&function(e){let t=0;e.header.forEach((n,i)=>{let r=document.createElement("div");r.classList.add("wgt-header"),r.classList.add(`wgt-column_${n}`),r.classList.add("wgt-cell"),r.innerHTML=n,e.append(r),t=r.clientHeight;let a=document.createElement("div");a.classList.add("arrow"),a.innerHTML="&#8693;",e.elements.sortArrows[n]=a,function(e,t,n){a.addEventListener("click",e=>o(n,t,e,!0))}(0,n,e),r.append(a)}),function(e,t){let n=e.elements.stickyStyle;n||(e.elements.stickyStyle=n=document.createElement("style"),n.type="text/css",n.classList.add("sticky_filter_offset")),n.innerHTML=`\n      .wgt-filter_cell {\n        top: ${t+1}px;\n      }\n    `,e.root_document.head.append(n)}(e,t)}(e),e.drawOptionals.filter&&e.header&&function(e,t,n){e.elements.filterCells={},e.elements.filterOperations={},t.forEach(t=>{let n=document.createElement("div");n.classList.add("wgt-filter_cell",`wgt-filter_cell_${t}`,"wgt-filter_input");let o=document.createElement("div");o.addEventListener("input",n=>i.bind(null,e,t)(n)),o.classList.add("filter_input"),o.contentEditable="true";let r=document.createElement("div");e.elements.filterOperations[t]=r,r.innerHTML="&sube;",r.classList.add("filter_negator"),r.addEventListener("click",n=>(function(e,t,n){let o=e.activeFilterOperations[t];void 0!==o&&""!=o||(o=e.filterOperations[0].name),o=e.filterOperations[(e.filterOperations.findIndex(e=>e.name==o)+1)%e.filterOperations.length].name,e.elements.filterOperations[t]&&(e.elements.filterOperations[t].innerHTML=e.filterOperations.find(e=>e.name==o).char),e.activeFilterOperations[t]=o,e.redrawData(),e.serializeLinkOptions()}).bind(null,e,t)(n)),n.append(o),n.append(r),e.elements.filterCells[t]=n,e.append(n)})}(e,e.header,e.filter),e.data.length>0&&(e.displayedData=g(e),e.elements.pageChooser=c(e,e.displayedData),e.drawOptionals.footer&&r(e,e.displayedData,e.elements.pageChooser)),e.drawOptionals.pagekey&&p(e)}function g(e){var t,n,o;e.sortedData=function(e,t){if(e.sortedBy&&e.sortedBy.length>0){t=e.sortedBy[0].col;let n=e.sortedData.sort((n,o)=>e.customChooseSortsCompareFn(e,e.data,t)(n[t],o[t]));return"desc"===e.sortedBy[0].dir&&(n=[].concat(n.filter(e=>null!=e[t]).reverse(),n.filter(e=>null==e[t]))),n}return e.sortedData}(e),function(e,t,n,o,i){if(i.active){let i=e.elements.columnStyle;i||(e.elements.columnStyle=i=document.createElement("style"),i.type="text/css",i.classList.add("column_styles"),e.root_document.head.append(i)),i.innerHTML="",n.forEach(e=>{o.forEach(n=>{n.condition(t,e)&&(i.innerHTML+=`\n              div.wgt-column_${e}.wgt-data_cell {\n                ${n.styles.join("\n")}\n              }\n            `)})})}}(e,e.sortedData,e.header,e.conditionalColumnStyle,e.conditionalStyleOptions);let i=function(e,t,n,o,i){return i.active?t.filter(t=>n.map(n=>!o[n]||(""!=e.activeFilterOperations[n]&&null!=e.activeFilterOperations[n]||(e.activeFilterOperations[n]=e.filterOperations[0].name),e.filterOperations.find(t=>t.name==e.activeFilterOperations[n]).fn(o[n],t[n]))).reduce((e,t)=>e&&t,!0)):t}(e,(t=e.sortedData,n=e.header,o=e.formatter,e.formatterOptions.active?t.map((e,t,i)=>{let r={};return n.forEach(n=>{o[n]?r[n]=o[n].reduce((e,n)=>n(e,t,i),e[n]):r[n]=e[n]}),r}):t),e.header,e.filter,e.filterOptions);e.pagination.filteredDataCount=i.length;let r=function(e,t){let n=t;return e.pagination.active=e.paginationOptions.active,e.pagination.totalPages=e.pagination.active?Math.ceil(t.length/e.pagination.pageSize):1,1==e.pagination.totalPages?e.pagination.active=!1:n=t.filter((t,n)=>!e.pagination.active||n>=(e.pagination.currentPage-1)*e.pagination.pageSize&&n<e.pagination.currentPage*e.pagination.pageSize),n}(e,i);return e.style.gridTemplateRows=`${e.drawOptionals.header?"max-content":""} ${e.drawOptionals.filter?"max-content":""} repeat(${r.length}, max-content) ${e.drawOptionals.footer?"max-content":""}`,function(e,t){e.elements.dataCells={},t.forEach((t,n)=>{e.header.forEach((o,i)=>{let r=document.createElement("div");r.classList.add("wgt-cell","wgt-data_cell",`wgt-column_${o}`,`wgt-row_${n}`,`wgt-zebra_${n%2}`),r.innerHTML=null!=t[o]?t[o]:"",e.elements.dataCells[o]||(e.elements.dataCells[o]=[]),e.elements.dataCells[o].push(r),e.append(r)})})}(e,r),function(e,t,n,o,i){if(i.active){let n=e.elements.columnStyle;n||(e.elements.columnStyle=n=document.createElement("style"),n.type="text/css",n.classList.add("row_styles"),e.root_document.head.append(n)),n.innerHTML="",Object.keys(o).forEach(e=>{t.forEach((t,i)=>{o[e].forEach(o=>{o.condition(t[e],i)&&(n.innerHTML+=`div${o.fullrow?"":`.wgt-column_${e}`}.wgt-row_${i} {\n`,n.innerHTML+=o.styles.join("\n"),n.innerHTML+="\n}")})})})}}(e,r,e.header,e.conditionalRowStyle,e.conditionalStyleOptions),r}const f=/^((?:function\s*.*){0,1}\(([^\(\{\[\=\>]*)\)\s*(?:=>|\{)\s*[\{\(]{0,1}.*[\}\)]{0,1})$/gy;function b(e){let t=f.exec(e).groups[2].split(",").map(e=>e.trim());return new Function(...t,`return (${e.toString()})(${t.join(", ")})`)}function w(e){return e.toString()}function y(e,t){!function(e){e.sortedData=e.data?e.data.map(e=>e):[],e.sortedBy=[],e.header&&e.header.forEach(t=>{e.elements.sortArrows[t].innerHTML="&#8693;",e.elements.sortArrows[t].arrowAlphaColor=1,e.elements.sortArrows[t].style.color="lightgray"})}(e),t.sortedBy.reverse().slice(-4).forEach(t=>{"desc"==t.dir&&o(e,t.col),o(e,t.col)})}class x extends HTMLElement{constructor(){var e;super(),this.linkOptions=["pagination","filter","sortedBy","activeFilterOperations","hiddenColumns"],e=this,["options","root_document","optionalDebounceFn","sortedData","data","header","displayedData","drawOptionals","elements","tableId"].forEach(t=>Object.defineProperty(e,t,{enumerable:!1,writable:!0})),this.options={},function(e,t){["conditionalColumnStyle","conditionalRowStyle","conditionalStyleOptions","formatter","formatterOptions","filter","filterOptions","filterOperations","activeFilterOperations","sortedBy","sortOptions","pagination","customCompareNumbers","customCompareText","customChooseSortsCompareFn","hiddenColumns","hiddenColumnsCondition"].forEach(t=>Object.defineProperty(e,t,{set(n){e.options[t]=n,e.header&&e.redrawData()},get:()=>e.options[t],enumerable:!0}))}(this),this.useDefaultOptions()}useDefaultOptions(){this.root_document=document,this.elements={},this.tableId=0,this.data=[],this.hiddenColumns=["Einzelpreis"],this.hiddenColumnsCondition=[(e,t)=>e.startsWith("#")],this.elements.sortArrows={},this.optionalDebounceFn=void 0,this.activeFilterOperations={},this.paginationOptions={active:!0},this.pagination={active:!0,currentPage:1,pageSize:40},this.filterOperations=[{name:"containsEx",char:"&sube;",fn:l.bind(null,!1)},{name:"notContainsEx",char:"&#8840;",fn:l.bind(null,!0)},{name:"equals",char:"=",fn:d.bind(null,(e,t)=>e==t)},{name:"greater",char:">",fn:d.bind(null,(e,t)=>e<t)},{name:"greaterEquals",char:"&ge;",fn:d.bind(null,(e,t)=>e<=t)},{name:"lesser",char:"<",fn:d.bind(null,(e,t)=>e>t)},{name:"lesserEquals",char:"&le;",fn:d.bind(null,(e,t)=>e>=t)},{name:"unEquals",char:"&ne;",fn:d.bind(null,(e,t)=>e!=t)}],this.conditionalColumnStyle=[{condition:(e,t)=>!Number.isNaN(e.reduce((e,n)=>e+="string"==typeof n[t]?NaN:null!=n[t]?n[t]:0,0)),styles:["text-align: right;"]}],this.conditionalRowStyle={Rabattsatz:[{condition:function(e,t){return 0==e&&t%2!=0},styles:["background-color: lightcoral;","color: black;"],fullrow:!0},{condition:function(e,t){return 0==e&&t%2==0},styles:["background-color: darksalmon;","color: black;"],fullrow:!0},{condition:function(e,t){return e>0&&t%2!=0},styles:["background-color: lightgreen;","color: black;"],fullrow:!0},{condition:function(e,t){return e>0&&t%2==0},styles:["background-color: darkseagreen;","color: black;"],fullrow:!0}]},this.conditionalStyleOptions={active:!0},this.formatter={},this.formatterOptions={active:!0},this.filter={},this.filterOptions={active:!0},this.sortedBy=[],this.sortOptions={active:!0},this.customCompareNumbers=e,this.customCompareText=t,this.customChooseSortsCompareFn=n,this.drawOptionals={}}loadPartialOptions(e){var t;this.data.length>0&&(Object.keys(e).forEach(t=>{"sortedBy"==t?y(this,e):"hiddenColumns"==t?(this[t]=e[t],this.redrawTable()):this[t]=e[t]}),(t=this).header.forEach(e=>{let n=t.filterOperations.find(n=>n.name==t.activeFilterOperations[e]);n&&(t.elements.filterOperations[e].innerHTML=n.char)}),this.redrawData())}serializeLinkOptions(){let e=new Object;this.linkOptions.forEach(t=>{e[t]=this[t]});let t=btoa(JSON.stringify(e,(e,t)=>t instanceof Function?w(t):t)),n=function(e,t){let n="?",o=!1,i=location.search.slice(1).split("&");return i.length>1?i.forEach(i=>{let r=i.split("=")[0];r==e?(o=!0,n+=`${r}=${t}&`):n+=`${r}=${i.split("=").slice(1).join("=")}&`}):1==i.length&&(""==i[0]?(o=!0,n+=`${e}=${t}&`):i[0].split("=")[0]==e?(o=!0,n+=`${e}=${t}&`):n+=`${i[0].split("=")[0]}=${i[0].split("=").slice(1).join("=")}&`),o||(n+=`${e}=${t}&`),n.slice(0,-1)}(`table${this.tableId}`,t);history.replaceState(history.state,"",n)}loadLinkOptions(){let e="{}";location.search.slice(1).split("&").forEach(t=>{let n=t.split("=");n[0]==`table${this.tableId}`&&(e=atob(n.slice(1).join("=")))});let t=JSON.parse(e,(e,t)=>t instanceof Array||!t.toString().match(f)?t:b(t));this.loadPartialOptions(t)}serializeOptions(){return btoa(JSON.stringify(this.options,(e,t)=>t instanceof Function?w(t):t))}deserializeOptions(e){return e?atob(JSON.parse(e,(e,t)=>t instanceof Array||!t.toString().match(f)?t:b(t))):{}}loadSerializedOptions(e){this.options=JSON.parse(e,(e,t)=>t instanceof Array||!t.toString().match(f)?t:b(t)),this.redrawData()}connectedCallback(){this.root_document.body||(this.root_document.body=document.createElement("body")),this.root_document.head||(this.root_document.head=document.createElement("head"));let e=this.deserializeOptions(this.getAttribute("options"));Object.keys(e).forEach(t=>{this.options[t]=e[t]}),this.tableId=this.root_document.querySelectorAll(".wgt-grid-container").length,this.classList.add("wgt-grid-container"),!this.sortedData&&this.data&&(this.sortedData=this.data.map(e=>e)),this.loadLinkOptions(),m(this)}setDebounceFn(e,t,n){this.optionalDebounceFn&&(o.cancel(),i.cancel()),this.optionalDebounceFn=e,o=this.optionalDebounceFn(o,...t),i=this.optionalDebounceFn(i,...n)}setData(e){this.data=e,this.sortedData=e.map(e=>e),m(this),this.loadLinkOptions()}getDisplayedData(){return this.displayedData}getOriginalData(){return this.data}redrawData(){if(this.header.forEach(e=>{this.elements.dataCells[e]&&[].forEach.call(this.elements.dataCells[e],e=>e.remove()),this.elements.filterCells[e].firstChild.textContent!=this.filter[e]&&(this.elements.filterCells[e].firstChild.textContent=this.filter[e])}),this.data.length>0){let e=!!this.elements.pageChooser&&this.elements.pageChooser.classList.contains("selected");this.displayedData=g(this),this.elements.pageChooser=c(this,this.displayedData),this.drawOptionals.footer&&r(this,this.displayedData,this.elements.pageChooser),e&&this.elements.pageChooser.classList.add("selected")}}redrawTable(){let e={};Object.keys(this.options).forEach(t=>{this.linkOptions.includes(t)&&(e[t]=this[t])}),m(this),y(this,e)}}return{regexFilter:l,textFilter:s,compareNumbers:e,compareText:t,chooseSortsCompareFn:n,defineCustomElement:function(){customElements.define("wc-grid-table",x)},TableComponent:x}}()})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),e=e.exports,customElements.define("prot-table-v3",class extends e.TableComponent{useDefaultOptions(){super.useDefaultOptions()}connectedCallback(){super.connectedCallback(),fetch("http://prot-subuntu:5985/ang_prot-wiki/prot-wiki_Legende").then(e=>e.json()).then(e=>{let t=e.auskunftSchemaLinks;console.log(e.auskunftSchemaLinks),Object.keys(t).forEach(e=>{let n=t[e];console.log(t[e]),t[e]=[e=>`<a href="${n}${e}">${e}</a>`]}),this.formatter=t;let n=this.getAttribute("jsonUrl");n&&fetch(n).then(e=>e.json()).then(e=>this.setData(e))})}})}();